def gen_html_report(cves):
    html = '''
    <html>
    <head>
    <title> CVE-BIN-TOOL Report </title>
    <link rel="stylesheet" href="styles.css">
    </head>
    <body>
    <div class="cards">
    ''' + f"{gen_all_cards(cves)}" + '''
    </div>
    </body>
    </html>
    '''
    with open('report.html', 'w') as f:
        f.write(html)


def gen_all_cards(cves):
    final = ''
    for product, versions in cves.items():
        final += gen_cve_cards(product, versions)
    return final


def gen_cve_cards(product, versions):
    html = '''
    <div class="card">
    '''
    html += '<h3>' + f"{product}" + '</h3>'
    for version, cve_list in versions.items():
        html += '<div class="version">' + 'Version:' + f"{version}" + '</div>'
        html += '<div class="cves">'
        for cve_number, cve_severity in cve_list.items():
            html += '<div class="cve">' + '<div>' + f"{cve_number}" + '</div>' + '<div>' + f"{cve_severity}" + '</div>' + '</div>'
        html += '</div>'
    html += '</div>'
    return html
